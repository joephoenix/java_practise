package phoenix.practise.second.B38;

import java.util.Scanner;

public class B38_DVDManager {

	/**
	 * ??????DVD???
	 */
	B38_DVDSet dvd = new B38_DVDSet();

	/**
	 * ???????????????
	 */
	public void setData() {
		dvd.initial();
	}

	/**
	 * ????????????
	 */
	public void startMenu() {
		System.out.println("??? ??? ??? ??? MiniDVD Mgr 1.0");
		System.out.println("--------------------------------------------");
		System.out.println("1. ??? ??? DVD");
		System.out.println("2. ??? ??? DVD");
		System.out.println("3. ??? ??? MiniDVD Mgr");
		System.out.println("--------------------------------------------\n");

		System.out.print("???????????? ");
		Scanner input = new Scanner(System.in);
		int choice = input.nextInt();
		switch (choice) {
		case 1:
			search();
			break;
		case 2:
			lend();
			break;
		case 3:
			System.out.println("\n??? ??? ??? ??????");
			break;
		}
	}

	/**
	 * ????????????DVD??????
	 */
	public void search() {
		System.out.println("MyDVD Mgr 1.0 ---> ??????DVD\n");

		for (int i = 0; i < dvd.names.length; i++) {
			if (dvd.names[i] == null) {
				break;
			} else if (dvd.state[i] == 1) {
				System.out
						.println("<<" + dvd.names[i] + ">>" + "\t\t?????????");
			} else if (dvd.state[i] == 0) {
				System.out.println("<<" + dvd.names[i] + ">>");
			}
		}

		System.out.println("--------------------------------");
		returnMain();
	}

	/**
	 * ??????DVD
	 */
	public void lend() {
		System.out.println("MyDVD Mgr 1.0 ---> ??????DVD\n");

		Scanner input = new Scanner(System.in);
		System.out.print("?????????DVD?????????");
		String want = input.next(); // ????????????DVD??????
		for (int i = 0; i < dvd.names.length; i++) {
			if (dvd.names[i] == null) {
				// ???????????????DVD???????????????
				// System.out.println("???" + i +
				// "???DVD??????????????????DVD???!");
			} else if (dvd.names[i].equals(want.trim()) && dvd.state[i] == 0) {
				// ?????????????????????
				dvd.state[i] = 1;
				System.out.println("????????????!");
				break;
			}
		}
		System.out.println("???????????????????????????????????????DVD!");
		System.out.println("------------------------------------");
		returnMain();
	}

	/**
	 * ???????????????
	 */
	public void returnMain() {
		Scanner input = new Scanner(System.in);
		System.out.print("??????0??????\n");
		if (input.nextInt() == 0) {
			startMenu();
		} else {
			System.out.println("????????????, ???????????????");
		}
	}

	/**
	 * ????????????
	 * 
	 * @param args
	 */
	public static void main(String[] args) {
		B38_DVDManager mgr = new B38_DVDManager();
		mgr.setData(); // ????????????
		mgr.startMenu();
	}

}
